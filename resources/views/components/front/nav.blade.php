@section('cssdependancy')
  @parent
  <style>
    .u--slideRight {
      -webkit-animation: slideRight 400ms;
      -moz-animation: slideRight 400ms;
      -o-animation: slideRight 400ms;
      animation: slideRight 400ms;
    }
  </style>
@endsection

<nav id="header" class="bg-white fixed py-1 top-0 w-screen z-30 border-b">
  <div class="w-full container mx-auto flex flex-wrap items-center justify-between mt-0 px-6 py-3">

    <label for="menu-toggle" class="cursor-pointer md:hidden block">
        <svg class="fill-current text-gray-900 h-5 w-5" xmlns="http://www.w3.org/2000/svg" width="1285.728" height="899.442" viewBox="0 0 1285.728 899.442">
        <title>menu</title>
        <path id="menu" d="M-72.786,92.6H1109.656c28.5,0,51.643-9.146,51.643-37.643s-23.146-36.643-51.643-36.643H-72.786c-28.5,0-51.643,8.146-51.643,36.643S-101.283,92.6-72.786,92.6ZM1109.656,844.469H-72.786c-28.5,0-51.643,8.146-51.643,36.643s23.146,36.643,51.643,36.643H1109.656c28.5,0,51.643-8.146,51.643-36.643S1138.154,844.469,1109.656,844.469Zm0-414.078H-72.786c-28.5,0-51.643,9.146-51.643,37.643s23.146,37.643,51.643,37.643H1109.656c28.5,0,51.643-9.146,51.643-37.643S1138.154,430.391,1109.656,430.391Z" transform="translate(124.429 -18.314)"/>
      </svg>
    </label>
    <input class="hidden" type="checkbox" id="menu-toggle" />

    <div class="hidden md:flex md:items-center md:w-auto w-full order-3 md:order-1" id="menu">
      <nav class="font-thin font-sans">
        <ul class="md:flex items-center justify-between text-base text-gray-700 pt-4 md:pt-0">
          <li><a class="inline-block no-underline hover:text-black hover:underline py-2 px-4" href="{{ url('shop') }}">Shop</a></li>
          @foreach ($menu as $menuItem)
            <li><a class="inline-block no-underline hover:text-black hover:underline py-2 px-4" href="{{ url('/' . $menuItem->url) }}">{{ $menuItem->link }}</a></li>
          @endforeach
          <li class="border border-l-0 border-r-0"><a class="inline-block no-underline hover:text-black hover:underline py-2 px-4 sm:hidden" href="{{ url('cms') }}">CMS</a></li>
          <li><button class="inline-block no-underline hover:text-black hover:underline py-2 px-4 sm:hidden" onclick="logout(event)">Logout</button></li>
        </ul>
      </nav>
    </div>

    <div id="logo" class="absolute left-0 md:order-2 mt-5 order-1 top-0">
      <a class="flex items-center tracking-wide no-underline hover:no-underline font-bold text-gray-800 text-xl font-serif" href="/">
        <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
        width="1280.000000pt" height="944.000000pt" viewBox="0 0 1280.000000 944.000000"
        preserveAspectRatio="xMidYMid meet" class="bg-yellow-600 fill-current h-8 mr-2 p-1 rounded-b-full w-8 w08" style="max-height: 32px; max-width: 32px;">
          <g transform="translate(0.000000,944.000000) scale(0.100000,-0.100000)"
          fill="" stroke="none">
            <path d="M1385 8114 c-934 -890 -1381 -1322 -1383 -1337 -2 -18 46 -76 220
            -263 123 -132 1506 -1619 3073 -3304 1568 -1686 2882 -3098 2920 -3138 l70
            -74 72 74 c39 40 1505 1549 3257 3352 2611 2687 3186 3284 3184 3303 -2 16
            -437 435 -1413 1363 l-1410 1339 -3605 0 -3605 0 -1380 -1315z m3946 -10
            c-506 -674 -923 -1225 -928 -1225 -4 0 -212 316 -461 703 -249 387 -602 935
            -785 1217 -183 283 -333 519 -335 523 -2 4 768 8 1712 8 l1716 0 -919 -1226z
            m4542 1212 c-29 -51 -1619 -2535 -1623 -2535 -6 0 -1914 2525 -1918 2539 -3 7
            589 10 1773 10 1536 0 1775 -2 1768 -14z m112 -271 c26 -93 110 -399 187 -680
            124 -454 423 -1542 435 -1587 5 -17 -22 -18 -473 -17 -264 1 -768 5 -1121 8
            l-642 6 781 1222 c430 673 783 1222 784 1220 1 -1 23 -78 49 -172z m1404
            -1099 c688 -654 1250 -1190 1248 -1190 -1 -1 -434 1 -961 4 l-960 5 -7 25
            c-33 122 -573 2087 -610 2225 -17 61 -36 132 -44 158 l-14 48 48 -43 c27 -24
            612 -578 1300 -1232z m-7834 48 c427 -663 775 -1208 772 -1211 -3 -3 -514 -1
            -1134 3 l-1129 9 81 275 c498 1678 625 2108 625 2118 0 7 2 12 4 12 2 0 354
            -543 781 -1206z m-890 1184 c-3 -7 -88 -294 -190 -638 -102 -344 -260 -878
            -352 -1187 l-167 -563 -905 0 -906 0 50 49 c80 78 2469 2351 2472 2351 1 0 0
            -6 -2 -12z m3578 -2397 c-5 -4 -405 -4 -891 -1 l-883 5 888 1184 888 1184 3
            -1183 c1 -651 -1 -1186 -5 -1189z m1877 -6 c0 -3 -398 -5 -885 -5 l-885 0 0
            1176 0 1176 885 -1171 c487 -644 885 -1173 885 -1176z m-4133 -3178 c2345
            -3622 2093 -3230 2055 -3192 -16 17 -1315 1414 -2887 3105 -1572 1691 -2881
            3099 -2909 3128 l-50 52 894 0 895 0 2002 -3093z m362 3077 c4 -3 147 -505
            546 -1909 147 -517 384 -1352 526 -1855 143 -503 350 -1232 460 -1620 110
            -388 204 -718 210 -735 5 -16 6 -25 1 -20 -5 6 -877 1351 -1937 2990 -1061
            1639 -1955 3020 -1987 3068 -32 49 -58 90 -58 92 0 5 2233 -6 2239 -11z m1509
            -1 l392 -6 -1 -3141 c0 -1772 -4 -3132 -9 -3121 -5 11 -96 331 -204 710 -107
            380 -322 1136 -476 1680 -155 545 -389 1370 -521 1835 -132 465 -317 1113
            -410 1441 -93 327 -169 598 -169 602 0 9 887 9 1398 0z m2322 -9 c0 -5 -352
            -1222 -570 -1969 -43 -148 -169 -583 -280 -965 -111 -382 -237 -816 -280 -965
            -91 -311 -219 -753 -495 -1705 -107 -371 -197 -679 -199 -685 -3 -5 -5 1409
            -5 3143 l-1 3152 915 0 c503 0 915 -3 915 -6z m2397 -8 c1 -1 -907 -1370
            -2018 -3041 -1111 -1672 -2025 -3048 -2031 -3058 -5 -10 -11 -17 -13 -15 -2 2
            89 320 201 708 113 388 259 892 325 1120 190 654 270 929 379 1305 56 193 141
            487 190 655 49 168 134 463 190 655 99 339 133 458 370 1275 61 212 116 390
            122 397 7 9 272 11 1146 6 625 -3 1138 -6 1139 -7z m1642 -5 l383 -6 -2837
            -2920 c-3265 -3359 -3195 -3288 -3170 -3248 11 17 940 1415 2065 3107 l2045
            3076 565 -2 c311 0 738 -4 949 -7z"/>
          </g>
        </svg>

        GEMS
      </a>
    </div>

    <div class="order-2 md:order-3 flex items-center" id="nav-content">

      @if (Session::has('user_id'))
        <a class="font-sans font-thin hover:text-black hover:underline mt-1 px-2 text-gray-700" href="{{ url('/user/profile') }}">
          <svg class="fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="" d="M10,10.9c2.373,0,4.303-1.932,4.303-4.306c0-2.372-1.93-4.302-4.303-4.302S5.696,4.223,5.696,6.594C5.696,8.969,7.627,10.9,10,10.9z M10,3.331c1.801,0,3.266,1.463,3.266,3.263c0,1.802-1.465,3.267-3.266,3.267c-1.8,0-3.265-1.465-3.265-3.267C6.735,4.794,8.2,3.331,10,3.331z"></path>
            <path fill="" d="M10,12.503c-4.418,0-7.878,2.058-7.878,4.685c0,0.288,0.231,0.52,0.52,0.52c0.287,0,0.519-0.231,0.519-0.52c0-1.976,3.132-3.646,6.84-3.646c3.707,0,6.838,1.671,6.838,3.646c0,0.288,0.234,0.52,0.521,0.52s0.52-0.231,0.52-0.52C17.879,14.561,14.418,12.503,10,12.503z"></path>
          </svg>
        </a>
        <button class="font-thin text-gray-700 font-sans hover:underline hover:text-black py-2 px-4 hidden sm:inline-block" onclick="logout(event)">Logout</button>
      @else
        <button id="loginNavBtn" class="font-thin text-gray-700 font-sans hover:underline hover:text-black">Login</button>
      @endif

      <button class="pl-3 inline-block no-underline hover:text-black h-8 w-8 relative" onclick="cart(event)">
        <svg class="fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M17.671,13.945l0.003,0.002l1.708-7.687l-0.008-0.002c0.008-0.033,0.021-0.065,0.021-0.102c0-0.236-0.191-0.428-0.427-0.428H5.276L4.67,3.472L4.665,3.473c-0.053-0.175-0.21-0.306-0.403-0.306H1.032c-0.236,0-0.427,0.191-0.427,0.427c0,0.236,0.191,0.428,0.427,0.428h2.902l2.667,9.945l0,0c0.037,0.119,0.125,0.217,0.239,0.268c-0.16,0.26-0.257,0.562-0.257,0.891c0,0.943,0.765,1.707,1.708,1.707S10,16.068,10,15.125c0-0.312-0.09-0.602-0.237-0.855h4.744c-0.146,0.254-0.237,0.543-0.237,0.855c0,0.943,0.766,1.707,1.708,1.707c0.944,0,1.709-0.764,1.709-1.707c0-0.328-0.097-0.631-0.257-0.891C17.55,14.182,17.639,14.074,17.671,13.945 M15.934,6.583h2.502l-0.38,1.709h-2.312L15.934,6.583zM5.505,6.583h2.832l0.189,1.709H5.963L5.505,6.583z M6.65,10.854L6.192,9.146h2.429l0.19,1.708H6.65z M6.879,11.707h2.027l0.189,1.709H7.338L6.879,11.707z M8.292,15.979c-0.472,0-0.854-0.383-0.854-0.854c0-0.473,0.382-0.855,0.854-0.855s0.854,0.383,0.854,0.855C9.146,15.596,8.763,15.979,8.292,15.979 M11.708,13.416H9.955l-0.189-1.709h1.943V13.416z M11.708,10.854H9.67L9.48,9.146h2.228V10.854z M11.708,8.292H9.386l-0.19-1.709h2.512V8.292z M14.315,13.416h-1.753v-1.709h1.942L14.315,13.416zM14.6,10.854h-2.037V9.146h2.227L14.6,10.854z M14.884,8.292h-2.321V6.583h2.512L14.884,8.292z M15.978,15.979c-0.471,0-0.854-0.383-0.854-0.854c0-0.473,0.383-0.855,0.854-0.855c0.473,0,0.854,0.383,0.854,0.855C16.832,15.596,16.45,15.979,15.978,15.979 M16.917,13.416h-1.743l0.189-1.709h1.934L16.917,13.416z M15.458,10.854l0.19-1.708h2.218l-0.38,1.708H15.458z" />
          <circle cx="10.5" cy="18.5" r="1.5" />
          <circle cx="17.5" cy="18.5" r="1.5" />
        </svg>
        <span class="-mr-3 -mt-3 absolute count font-light h-5 p-1 right-0 text-center text-sm text-yellow-600 top-0">
          @if ( !Cart::isEmpty() )
              {{ Cart::getTotalQuantity() }}
          @endif
        </span>
      </button>
      @if(Session::get('is_admin'))
      <a class="border-l border-yellow-600 hidden hover:text-black md:inline-block ml-4 mt-2 no-underline pl-3" href="{{ url('cms') }}">
        <svg class="fill-current h-8 hover:text-black p-px w-8" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path fill="" d="M10.032,8.367c-1.112,0-2.016,0.905-2.016,2.018c0,1.111,0.904,2.014,2.016,2.014c1.111,0,2.014-0.902,2.014-2.014C12.046,9.271,11.143,8.367,10.032,8.367z M10.032,11.336c-0.525,0-0.953-0.427-0.953-0.951c0-0.526,0.427-0.955,0.953-0.955c0.524,0,0.951,0.429,0.951,0.955C10.982,10.909,10.556,11.336,10.032,11.336z"></path>
          <path fill="" d="M17.279,8.257h-0.785c-0.107-0.322-0.237-0.635-0.391-0.938l0.555-0.556c0.208-0.208,0.208-0.544,0-0.751l-2.254-2.257c-0.199-0.2-0.552-0.2-0.752,0l-0.556,0.557c-0.304-0.153-0.617-0.284-0.939-0.392V3.135c0-0.294-0.236-0.532-0.531-0.532H8.435c-0.293,0-0.531,0.237-0.531,0.532v0.784C7.582,4.027,7.269,4.158,6.966,4.311L6.409,3.754c-0.1-0.1-0.234-0.155-0.376-0.155c-0.141,0-0.275,0.055-0.375,0.155L3.403,6.011c-0.208,0.207-0.208,0.543,0,0.751l0.556,0.556C3.804,7.622,3.673,7.935,3.567,8.257H2.782c-0.294,0-0.531,0.238-0.531,0.531v3.19c0,0.295,0.237,0.531,0.531,0.531h0.787c0.105,0.318,0.236,0.631,0.391,0.938l-0.556,0.559c-0.208,0.207-0.208,0.545,0,0.752l2.254,2.254c0.208,0.207,0.544,0.207,0.751,0l0.558-0.559c0.303,0.154,0.616,0.285,0.938,0.391v0.787c0,0.293,0.238,0.531,0.531,0.531h3.191c0.295,0,0.531-0.238,0.531-0.531v-0.787c0.322-0.105,0.636-0.236,0.938-0.391l0.56,0.559c0.208,0.205,0.546,0.207,0.752,0l2.252-2.254c0.208-0.207,0.208-0.545,0.002-0.752l-0.559-0.559c0.153-0.303,0.285-0.615,0.389-0.938h0.789c0.295,0,0.532-0.236,0.532-0.531v-3.19C17.812,8.495,17.574,8.257,17.279,8.257z M16.747,11.447h-0.653c-0.241,0-0.453,0.164-0.514,0.398c-0.129,0.496-0.329,0.977-0.594,1.426c-0.121,0.209-0.089,0.473,0.083,0.645l0.463,0.465l-1.502,1.504l-0.465-0.463c-0.174-0.174-0.438-0.207-0.646-0.082c-0.447,0.262-0.927,0.463-1.427,0.594c-0.234,0.061-0.397,0.271-0.397,0.514V17.1H8.967v-0.652c0-0.242-0.164-0.453-0.397-0.514c-0.5-0.131-0.98-0.332-1.428-0.594c-0.207-0.123-0.472-0.09-0.646,0.082l-0.463,0.463L4.53,14.381l0.461-0.463c0.169-0.172,0.204-0.434,0.083-0.643c-0.266-0.461-0.467-0.939-0.596-1.43c-0.06-0.234-0.272-0.398-0.514-0.398H3.313V9.319h0.652c0.241,0,0.454-0.162,0.514-0.397c0.131-0.498,0.33-0.979,0.595-1.43c0.122-0.208,0.088-0.473-0.083-0.645L4.53,6.386l1.503-1.504l0.46,0.462c0.173,0.172,0.437,0.204,0.646,0.083c0.45-0.265,0.931-0.464,1.433-0.597c0.233-0.062,0.396-0.274,0.396-0.514V3.667h2.128v0.649c0,0.24,0.161,0.452,0.396,0.514c0.502,0.133,0.982,0.333,1.433,0.597c0.211,0.12,0.475,0.089,0.646-0.083l0.459-0.462l1.504,1.504l-0.463,0.463c-0.17,0.171-0.202,0.438-0.081,0.646c0.263,0.448,0.463,0.928,0.594,1.427c0.061,0.235,0.272,0.397,0.514,0.397h0.651V11.447z"></path>
        </svg>
      </a>
      @endif

    </div>
  </div>
</nav>

@section('jsdependancy')
  @parent
  <script>
    const logout = () => {
      axios.get("{{ url('/user/logout') }}")
        .then(function (response) {
          const res = response.data
          if ( res === 'Logout successful' ) {
              return window.location.reload()
          }
        })
        .catch(function (error) {
          throw error
      })
    }

    const cart = (e) => {
      e.preventDefault()
      const cartSlideParent = document.querySelector('#cartSlideParent')
      const cartSlide = document.querySelector('#cartSlide')
      cartSlideParent.classList.remove('hidden')
      cartSlide.classList.remove('hidden')
      cartSlide.classList.add('u--slideRight')
    }
  </script>
@endsection

@if (url()->current() != url('/shop/cart'))
  @include('components.front.cart')  
@endif